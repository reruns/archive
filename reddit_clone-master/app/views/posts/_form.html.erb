<% action_url = post.persisted? ? post_url(post) : posts_url %>
<% http_method = post.persisted? ? "PATCH" : "POST" %>

<form action="<%= action_url %>" method="POST">
  <input type="hidden" name="_method" value="<%= http_method %>">
  <input
    type="hidden"
    name="authenticity_token"
    value="<%= form_authenticity_token %>">

  <label for="post_title">Title</label>
  <br>
  <input id="post_title type="text" name="post[title]" value="<%= post.title %>">

  <br>
  <br>

  <label for="post_url">URL</label>
  <br>
  <input id="post_url" type="text" name="post[url]" value="<%= post.url %>">

  <br>
  <br>

  <label for="post_content">Content</label>
  <br>
    <textarea id="post_content" name="post[content]"><%= post.content %>
    </textarea>

  <br>

  <% Sub.all.each do |sub| %>
    <input type="checkbox" name="post[sub_ids][]" value=<%= sub.id %>
      <%= post.sub_ids.include?(sub.id) ? "checked" : "" %>><%= sub.title %>
  <% end %>

  <input type="submit">
</label>
